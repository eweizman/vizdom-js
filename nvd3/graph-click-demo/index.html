<html>
<head>
    <title>NVD3 Example Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
  <link href="nv.d3.css" rel="stylesheet">
  <script src="nv.d3.js"></script>
</head>
<body>
    <div id="chart1">
        <svg></svg>
    </div>

    <script>
    historicalBarChart = [
    {
        key: "Cumulative Return",
        values: [
        {
            "label" : "A" ,
            "value" : 29.765957771107
        } ,
        {
            "label" : "B" ,
            "value" : 0
        } ,
        {
            "label" : "C" ,
            "value" : 32.807804682612
        } ,
        {
            "label" : "D" ,
            "value" : 196.45946739256
        } ,
        {
            "label" : "E" ,
            "value" : 0.19434030906893
        } ,
        {
            "label" : "F" ,
            "value" : 98.079782601442
        } ,
        {
            "label" : "G" ,
            "value" : 13.925743130903
        } ,
        {
            "label" : "H" ,
            "value" : 5.1387322875705
        }
        ]
    }
    ];



    nv.addGraph(function() {
        var width = 400, height = 300;
        var chart = nv.models.discreteBarChart()
        .x(function(d) { return d.label })
        .y(function(d) { return d.value })
        .staggerLabels(true)
            .showValues(true)
            .duration(250)
            .width(width)
            .height(height)
            ;

            var drag = d3.behavior.drag()
            .on("drag", dragmove);

            function dragmove(d) {
                //console.log(this);
                var x = d3.event.x;
                var y = d3.event.y;
                d3.select(this).attr("transform", "translate(" + x + "," + y + ")");
            }
            d3.select('#chart1 svg')
            .datum(historicalBarChart)
            .call(chart)
            .call(drag)
            //.style({'width':width, 'height':height});
            //nv.utils.windowResize(chart.update);
            return chart;
        }, function () {
            d3.selectAll(".nv-bar").on('mousedown', function(d) {
                console.log(d);
                d3.select(this).style("fill", "red");
            });
        });
    </script>
</body>
</html>